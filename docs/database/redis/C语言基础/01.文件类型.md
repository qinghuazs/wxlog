---
title: C语言文件类型
date: 2023-08-21 10:00:00
categories:
  - Redis
  - Database
---

今天在看Redis源码时发现关于 sds 的文件有四个，分别是 `sds.h` `sds.c` `sds.d` `sds.o` ，下面对这几个文件类型做一个说明。

## `​​sds.h` 

`​​sds.h` 是头文件，定义 SDS 的核心数据结构和 API 声明，供其他模块调用。

可以理解为 Java 中的 interface 。

## `sds.c` 

`​​sds.c` 是源文件，实现 SDS 的所有核心逻辑，可以理解为 Java 中 interface 的实现类。

## `sds.o` 

`sds.o` 是目标文件，由 sds.c 编译生成的二进制文件。 可以理解为 Java 中的 `.class` 文件

## `sds.d` 

`sds.d` 是依赖文件，记录了 `sds.o` 依赖的头文件和库文件。可以理解为 Java 中 Maven pom.xml 文件。

通常通过 gcc -M 等命令来生成。

## 整体关系

| 文件    | 角色          | 与其他文件的关系                     |
| :------ | :------------ | :----------------------------------- |
| sds.h   | 接口规范（声明） | 被 sds.c 和调用 SDS 的其他模块引用 |
| sds.c   | 功能实现（定义） | 依赖 sds.h，编译后生成 sds.o       |
| sds.o   | 编译中间产物（机器码） | 链接到 Redis 可执行文件              |
| sds.d   | 编译依赖描述（元数据） | 确保 sds.c 的依赖变更触发重新编译    |


我们在看源码时只要关注 `.c` `.h` 文件，其他文件是编译工具生成的，不需要关注。

